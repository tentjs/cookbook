{"mappings":"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","sources":["<anon>","node_modules/@tentjs/tent/dist/module.js","node_modules/@tentjs/tent/dist/src/main.ts","src/components/dropdown.ts","src/css/dropdown.module.css"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire27b0\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire27b0\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1Ovn3\", function(module, exports) {\n\n$parcel$export(module.exports, \"mount\", () => $1522cb89a5b7fae6$export$186d02efde07ef98);\n$parcel$export(module.exports, \"tags\", () => $1522cb89a5b7fae6$export$8b7a896ae75accbf);\nfunction $1522cb89a5b7fae6$export$186d02efde07ef98(el, component) {\n    const { state: state = {}, view: view, mounted: mounted } = component;\n    let node;\n    if (el == null) return;\n    const handler = {\n        get (obj, key) {\n            if (typeof obj[key] === \"object\" && obj[key] != null) return new Proxy(obj[key], handler);\n            else return obj[key];\n        },\n        set (obj, prop, value) {\n            if (!obj.hasOwnProperty(prop)) throw new Error(`The property \"${String(prop)}\" does not exist on the state object.`);\n            if (obj[prop] === value) return true;\n            const s = Reflect.set(obj, prop, value);\n            $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(node, view({\n                state: proxy,\n                el: el,\n                attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n            }));\n            return s;\n        }\n    };\n    const proxy = new Proxy({\n        ...state\n    }, handler);\n    node = view({\n        state: proxy,\n        el: el,\n        attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n    });\n    node.$tent = {\n        attributes: {},\n        isComponent: true\n    };\n    el.append(node);\n    mounted?.({\n        state: proxy,\n        el: el,\n        attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n    });\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el) {\n    return (name)=>{\n        const attr = el.attributes.getNamedItem(name);\n        if (!attr) return;\n        return attr.value;\n    };\n}\nfunction $1522cb89a5b7fae6$export$ee84a198a55b65e5(context) {\n    const [tag, children, attributes] = context;\n    const elm = document.createElement(tag);\n    elm.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    if (Array.isArray(children)) children.forEach((c)=>{\n        elm.append(Array.isArray(c) ? $1522cb89a5b7fae6$export$ee84a198a55b65e5(c) : c);\n    });\n    else elm.append(typeof children === \"number\" ? children.toString() : children);\n    for(const key in attributes){\n        elm.$tent.attributes[key] = attributes[key];\n        if (key.startsWith(\"on\") || /[A-Z]/.test(key)) elm[key] = attributes[key];\n        else {\n            const val = attributes[key];\n            if (typeof val === \"boolean\") {\n                if (val) elm.setAttribute(key, \"\");\n                else elm.removeAttribute(key);\n            } else elm.setAttribute(key, attributes[key]);\n        }\n    }\n    return elm;\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(oldNode, newNode) {\n    const nc = Array.from(newNode.childNodes);\n    const oc = Array.from(oldNode.childNodes);\n    if (oc.length === 0 && nc.length === 0) return;\n    $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$syncNodes(oldNode, newNode);\n    if (oldNode.nodeType === Node.TEXT_NODE) return;\n    if (oc.length < nc.length) nc.forEach((x, index)=>{\n        if (oc[index] == null) oldNode.append($1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttributes(x.cloneNode(true), x));\n    });\n    if (oc.length > nc.length) oc.forEach((c, i)=>{\n        if (nc[i] == null) c.remove();\n    });\n    oc.forEach((oChild, index)=>{\n        const nChild = nc[index];\n        if (nChild == null) return;\n        if (oChild.tagName !== nChild.tagName) oChild.replaceWith(nChild);\n        $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$syncNodes(oChild, nChild);\n        $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(oChild, nChild);\n    });\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$syncNodes(oldNode, newNode) {\n    if (oldNode.nodeType === Node.TEXT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) oldNode.nodeValue = newNode.nodeValue;\n        return;\n    }\n    // Add attributes that are not present in the old node\n    if (newNode.attributes?.length) Array.from(newNode.attributes).forEach((attr)=>{\n        if (oldNode.getAttribute(attr.name) !== attr.value) oldNode.setAttribute(attr.name, attr.value);\n    });\n    // Remove attributes that are not present in the new node\n    if (oldNode.attributes?.length) Array.from(oldNode.attributes).forEach((attr)=>{\n        if (!newNode.hasAttribute(attr.name)) oldNode.removeAttribute(attr.name);\n    });\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttributes(clone, node) {\n    if (!clone.$tent && !node.$tent) return clone;\n    Object.keys(node.$tent.attributes).forEach((key)=>clone[key] = node.$tent.attributes[key]);\n    if (clone.hasChildNodes()) for (const [index, entry] of clone.childNodes.entries())$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttributes(entry, node.childNodes[index]);\n    return clone;\n}\nconst $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t = [\n    \"div\",\n    \"p\",\n    \"ul\",\n    \"li\",\n    \"button\",\n    \"input\",\n    \"label\",\n    \"form\",\n    \"span\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"a\",\n    \"img\",\n    \"video\",\n    \"audio\",\n    \"canvas\",\n    \"table\",\n    \"tr\",\n    \"td\",\n    \"th\",\n    \"thead\",\n    \"tbody\",\n    \"tfoot\",\n    \"select\",\n    \"option\",\n    \"textarea\",\n    \"pre\",\n    \"code\",\n    \"blockquote\",\n    \"hr\",\n    \"br\",\n    \"iframe\",\n    \"nav\",\n    \"header\",\n    \"footer\",\n    \"main\",\n    \"section\",\n    \"article\",\n    \"aside\",\n    \"small\",\n    \"b\"\n];\nconst $1522cb89a5b7fae6$export$8b7a896ae75accbf = {};\n$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t.forEach((tag)=>$1522cb89a5b7fae6$export$8b7a896ae75accbf[tag] = (children, attrs)=>$1522cb89a5b7fae6$export$ee84a198a55b65e5([\n            tag,\n            children,\n            attrs\n        ]));\n\n});\n\n\nvar $1Ovn3 = parcelRequire(\"1Ovn3\");\nvar $ef070190057e410d$export$81207e5cc4186890;\nvar $ef070190057e410d$export$d90250155de6d7e7;\n$ef070190057e410d$export$81207e5cc4186890 = `C8xY4q_dropdown`;\n$ef070190057e410d$export$d90250155de6d7e7 = `C8xY4q_selected`;\n\n\nconst { div: $1cdc12b86b4d1831$var$div, button: $1cdc12b86b4d1831$var$button, span: $1cdc12b86b4d1831$var$span, ul: $1cdc12b86b4d1831$var$ul, li: $1cdc12b86b4d1831$var$li } = (0, $1Ovn3.tags);\n/**\n * In a real world example this probably wouldn't be here,\n * instead, it would be either passed to the component or fetched from an API.\n * Or, you could build it in the FE like I've done here :)\n */ const $1cdc12b86b4d1831$var$collection = [\n    {\n        title: \"Unread\",\n        tag: 4,\n        selected: false\n    },\n    {\n        title: \"Flagged\",\n        tag: 23,\n        selected: false\n    },\n    // Section - with title\n    {\n        title: \"Tags\",\n        items: [\n            {\n                title: \"#daretoshare24\",\n                selected: false\n            },\n            {\n                title: \"#tent\",\n                selected: false\n            },\n            {\n                title: \"#javascript\",\n                selected: false\n            }\n        ]\n    },\n    // Section - without title\n    {\n        title: \"\",\n        items: [\n            {\n                title: \"Source\",\n                selected: false,\n                attributes: {\n                    role: \"link\",\n                    onclick: ()=>{\n                        window.open(\"https://github.com/tentjs/cookbook/tree/main/src/components/dropdown.ts\", \"_blank\");\n                    }\n                }\n            }\n        ]\n    }\n];\nconst $1cdc12b86b4d1831$var$Dropdown = {\n    state: {\n        open: true,\n        collection: $1cdc12b86b4d1831$var$collection\n    },\n    view: ({ state: state })=>$1cdc12b86b4d1831$var$div([\n            $1cdc12b86b4d1831$var$button(\"Filters\", {\n                onclick: ()=>state.open = !state.open\n            }),\n            $1cdc12b86b4d1831$var$ul(state.open ? state.collection.map((item)=>item.items ? $1cdc12b86b4d1831$var$section(item.title, item.items) : $1cdc12b86b4d1831$var$single(item)) : [])\n        ], {\n            className: $ef070190057e410d$export$81207e5cc4186890\n        })\n};\nfunction $1cdc12b86b4d1831$var$section(title, items) {\n    return $1cdc12b86b4d1831$var$div([\n        $1cdc12b86b4d1831$var$li([\n            $1cdc12b86b4d1831$var$span(title),\n            $1cdc12b86b4d1831$var$span(\"\")\n        ]),\n        ...items.map((item)=>$1cdc12b86b4d1831$var$single(item))\n    ]);\n}\nfunction $1cdc12b86b4d1831$var$single(item) {\n    return $1cdc12b86b4d1831$var$li([\n        $1cdc12b86b4d1831$var$span(item.title),\n        $1cdc12b86b4d1831$var$span(item.tag ?? \"\")\n    ], {\n        ...item.attributes,\n        onclick: ()=>{\n            if (typeof item.attributes?.onclick === \"function\") item.attributes.onclick();\n            else item.selected = !item.selected;\n        },\n        className: item.selected ? $ef070190057e410d$export$d90250155de6d7e7 : \"\"\n    });\n}\n(0, $1Ovn3.mount)(document.querySelector(\".recipe\"), $1cdc12b86b4d1831$var$Dropdown);\n\n\n//# sourceMappingURL=dropdown.836ae373.js.map\n","function $b013a5dd6d18443e$export$186d02efde07ef98(el, component) {\n    const { state: state = {}, view: view, mounted: mounted } = component;\n    let node;\n    if (el == null) return;\n    const handler = {\n        get (obj, key) {\n            if (typeof obj[key] === \"object\" && obj[key] != null) return new Proxy(obj[key], handler);\n            else return obj[key];\n        },\n        set (obj, prop, value) {\n            if (!obj.hasOwnProperty(prop)) throw new Error(`The property \"${String(prop)}\" does not exist on the state object.`);\n            if (obj[prop] === value) return true;\n            const s = Reflect.set(obj, prop, value);\n            $b013a5dd6d18443e$var$walker(node, view({\n                state: proxy,\n                el: el,\n                attr: $b013a5dd6d18443e$var$getAttribute(el)\n            }));\n            return s;\n        }\n    };\n    const proxy = new Proxy({\n        ...state\n    }, handler);\n    node = view({\n        state: proxy,\n        el: el,\n        attr: $b013a5dd6d18443e$var$getAttribute(el)\n    });\n    node.$tent = {\n        attributes: {},\n        isComponent: true\n    };\n    el.append(node);\n    mounted?.({\n        state: proxy,\n        el: el,\n        attr: $b013a5dd6d18443e$var$getAttribute(el)\n    });\n}\nfunction $b013a5dd6d18443e$var$getAttribute(el) {\n    return (name)=>{\n        const attr = el.attributes.getNamedItem(name);\n        if (!attr) return;\n        return attr.value;\n    };\n}\nfunction $b013a5dd6d18443e$export$ee84a198a55b65e5(context) {\n    const [tag, children, attributes] = context;\n    const elm = document.createElement(tag);\n    elm.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    if (Array.isArray(children)) children.forEach((c)=>{\n        elm.append(Array.isArray(c) ? $b013a5dd6d18443e$export$ee84a198a55b65e5(c) : c);\n    });\n    else elm.append(typeof children === \"number\" ? children.toString() : children);\n    for(const key in attributes){\n        elm.$tent.attributes[key] = attributes[key];\n        if (key.startsWith(\"on\") || /[A-Z]/.test(key)) elm[key] = attributes[key];\n        else {\n            const val = attributes[key];\n            if (typeof val === \"boolean\") {\n                if (val) elm.setAttribute(key, \"\");\n                else elm.removeAttribute(key);\n            } else elm.setAttribute(key, attributes[key]);\n        }\n    }\n    return elm;\n}\nfunction $b013a5dd6d18443e$var$walker(oldNode, newNode) {\n    const nc = Array.from(newNode.childNodes);\n    const oc = Array.from(oldNode.childNodes);\n    if (oc.length === 0 && nc.length === 0) return;\n    $b013a5dd6d18443e$var$syncNodes(oldNode, newNode);\n    if (oldNode.nodeType === Node.TEXT_NODE) return;\n    if (oc.length < nc.length) nc.forEach((x, index)=>{\n        if (oc[index] == null) oldNode.append($b013a5dd6d18443e$var$addAttributes(x.cloneNode(true), x));\n    });\n    if (oc.length > nc.length) oc.forEach((c, i)=>{\n        if (nc[i] == null) c.remove();\n    });\n    oc.forEach((oChild, index)=>{\n        const nChild = nc[index];\n        if (nChild == null) return;\n        if (oChild.tagName !== nChild.tagName) oChild.replaceWith(nChild);\n        $b013a5dd6d18443e$var$syncNodes(oChild, nChild);\n        $b013a5dd6d18443e$var$walker(oChild, nChild);\n    });\n}\nfunction $b013a5dd6d18443e$var$syncNodes(oldNode, newNode) {\n    if (oldNode.nodeType === Node.TEXT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) oldNode.nodeValue = newNode.nodeValue;\n        return;\n    }\n    // Add attributes that are not present in the old node\n    if (newNode.attributes?.length) Array.from(newNode.attributes).forEach((attr)=>{\n        if (oldNode.getAttribute(attr.name) !== attr.value) oldNode.setAttribute(attr.name, attr.value);\n    });\n    // Remove attributes that are not present in the new node\n    if (oldNode.attributes?.length) Array.from(oldNode.attributes).forEach((attr)=>{\n        if (!newNode.hasAttribute(attr.name)) oldNode.removeAttribute(attr.name);\n    });\n}\nfunction $b013a5dd6d18443e$var$addAttributes(clone, node) {\n    if (!clone.$tent && !node.$tent) return clone;\n    Object.keys(node.$tent.attributes).forEach((key)=>clone[key] = node.$tent.attributes[key]);\n    if (clone.hasChildNodes()) for (const [index, entry] of clone.childNodes.entries())$b013a5dd6d18443e$var$addAttributes(entry, node.childNodes[index]);\n    return clone;\n}\nconst $b013a5dd6d18443e$var$t = [\n    \"div\",\n    \"p\",\n    \"ul\",\n    \"li\",\n    \"button\",\n    \"input\",\n    \"label\",\n    \"form\",\n    \"span\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"a\",\n    \"img\",\n    \"video\",\n    \"audio\",\n    \"canvas\",\n    \"table\",\n    \"tr\",\n    \"td\",\n    \"th\",\n    \"thead\",\n    \"tbody\",\n    \"tfoot\",\n    \"select\",\n    \"option\",\n    \"textarea\",\n    \"pre\",\n    \"code\",\n    \"blockquote\",\n    \"hr\",\n    \"br\",\n    \"iframe\",\n    \"nav\",\n    \"header\",\n    \"footer\",\n    \"main\",\n    \"section\",\n    \"article\",\n    \"aside\",\n    \"small\",\n    \"b\"\n];\nconst $b013a5dd6d18443e$export$8b7a896ae75accbf = {};\n$b013a5dd6d18443e$var$t.forEach((tag)=>$b013a5dd6d18443e$export$8b7a896ae75accbf[tag] = (children, attrs)=>$b013a5dd6d18443e$export$ee84a198a55b65e5([\n            tag,\n            children,\n            attrs\n        ]));\n\n\nexport {$b013a5dd6d18443e$export$186d02efde07ef98 as mount, $b013a5dd6d18443e$export$ee84a198a55b65e5 as createTag, $b013a5dd6d18443e$export$8b7a896ae75accbf as tags};\n//# sourceMappingURL=module.js.map\n","import {\n  type Children,\n  type Context,\n  type Component,\n  type TentNode,\n} from './types';\n\nfunction mount<S extends {} = {}>(\n  el: HTMLElement | Element | null,\n  component: Component<S>,\n) {\n  const { state = {} as S, view, mounted } = component;\n  let node: TentNode;\n\n  if (el == null) {\n    return;\n  }\n\n  const handler = {\n    get(obj: S, key: string) {\n      if (typeof obj[key] === 'object' && obj[key] != null) {\n        return new Proxy(obj[key], handler);\n      } else {\n        return obj[key];\n      }\n    },\n    set(obj: S, prop: string, value: unknown) {\n      if (!obj.hasOwnProperty(prop)) {\n        throw new Error(\n          `The property \"${String(prop)}\" does not exist on the state object.`,\n        );\n      }\n      if (obj[prop] === value) return true;\n\n      const s = Reflect.set(obj, prop, value);\n\n      walker(node, view({ state: proxy, el, attr: getAttribute(el) }));\n\n      return s;\n    },\n  };\n\n  const proxy = new Proxy<S>({ ...state }, handler);\n\n  node = view({ state: proxy, el, attr: getAttribute(el) });\n  node.$tent = {\n    attributes: {},\n    isComponent: true,\n  };\n\n  el.append(node);\n\n  mounted?.({ state: proxy, el, attr: getAttribute(el) });\n}\n\nfunction getAttribute(el: HTMLElement | Element) {\n  return (name: string) => {\n    const attr = el.attributes.getNamedItem(name);\n\n    if (!attr) {\n      return;\n    }\n\n    return attr.value;\n  };\n}\n\nfunction createTag(context: Context) {\n  const [tag, children, attributes] = context;\n  const elm = document.createElement(tag) as TentNode;\n\n  elm.$tent = {\n    attributes: {},\n    isComponent: false,\n  };\n\n  if (Array.isArray(children)) {\n    children.forEach((c) => {\n      elm.append(Array.isArray(c) ? createTag(c) : c);\n    });\n  } else {\n    elm.append(typeof children === 'number' ? children.toString() : children);\n  }\n\n  for (const key in attributes) {\n    elm.$tent.attributes[key] = attributes[key];\n\n    if (key.startsWith('on') || /[A-Z]/.test(key)) {\n      elm[key] = attributes[key];\n    } else {\n      const val = attributes[key];\n      if (typeof val === 'boolean') {\n        if (val) {\n          elm.setAttribute(key, '');\n        } else {\n          elm.removeAttribute(key);\n        }\n      } else {\n        elm.setAttribute(key, attributes[key]);\n      }\n    }\n  }\n\n  return elm;\n}\n\nfunction walker(oldNode: TentNode, newNode: TentNode) {\n  const nc = Array.from(newNode.childNodes) as TentNode[];\n  const oc = Array.from(oldNode.childNodes) as TentNode[];\n\n  if (oc.length === 0 && nc.length === 0) {\n    return;\n  }\n\n  syncNodes(oldNode, newNode);\n\n  if (oldNode.nodeType === Node.TEXT_NODE) {\n    return;\n  }\n\n  if (oc.length < nc.length) {\n    nc.forEach((x, index) => {\n      if (oc[index] == null) {\n        oldNode.append(addAttributes(x.cloneNode(true) as TentNode, x));\n      }\n    });\n  }\n\n  if (oc.length > nc.length) {\n    oc.forEach((c, i) => {\n      if (nc[i] == null) {\n        c.remove();\n      }\n    });\n  }\n\n  oc.forEach((oChild, index) => {\n    const nChild = nc[index];\n\n    if (nChild == null) {\n      return;\n    }\n\n    if (oChild.tagName !== nChild.tagName) {\n      oChild.replaceWith(nChild);\n    }\n\n    syncNodes(oChild, nChild);\n\n    walker(oChild, nChild);\n  });\n}\n\nfunction syncNodes(oldNode: TentNode, newNode: TentNode) {\n  if (oldNode.nodeType === Node.TEXT_NODE) {\n    if (oldNode.nodeValue !== newNode.nodeValue) {\n      oldNode.nodeValue = newNode.nodeValue;\n    }\n\n    return;\n  }\n\n  // Add attributes that are not present in the old node\n  if (newNode.attributes?.length) {\n    Array.from(newNode.attributes).forEach((attr) => {\n      if (oldNode.getAttribute(attr.name) !== attr.value) {\n        oldNode.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n  // Remove attributes that are not present in the new node\n  if (oldNode.attributes?.length) {\n    Array.from(oldNode.attributes).forEach((attr) => {\n      if (!newNode.hasAttribute(attr.name)) {\n        oldNode.removeAttribute(attr.name);\n      }\n    });\n  }\n}\n\nfunction addAttributes(clone: TentNode, node: TentNode) {\n  if (!clone.$tent && !node.$tent) return clone;\n\n  Object.keys(node.$tent.attributes).forEach(\n    (key) => (clone[key] = node.$tent.attributes[key]),\n  );\n\n  if (clone.hasChildNodes()) {\n    for (const [index, entry] of clone.childNodes.entries()) {\n      addAttributes(entry as TentNode, node.childNodes[index] as TentNode);\n    }\n  }\n\n  return clone;\n}\n\nconst t = [\n  'div',\n  'p',\n  'ul',\n  'li',\n  'button',\n  'input',\n  'label',\n  'form',\n  'span',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'a',\n  'img',\n  'video',\n  'audio',\n  'canvas',\n  'table',\n  'tr',\n  'td',\n  'th',\n  'thead',\n  'tbody',\n  'tfoot',\n  'select',\n  'option',\n  'textarea',\n  'pre',\n  'code',\n  'blockquote',\n  'hr',\n  'br',\n  'iframe',\n  'nav',\n  'header',\n  'footer',\n  'main',\n  'section',\n  'article',\n  'aside',\n  'small',\n  'b',\n];\nconst tags: Record<string, (children: Children, attrs?: object) => TentNode> =\n  {};\nt.forEach(\n  (tag) => (tags[tag] = (children, attrs) => createTag([tag, children, attrs])),\n);\n\nexport {\n  mount,\n  tags,\n  createTag,\n  type Component,\n  type Children,\n  type Context,\n  type TentNode,\n};\n","import { mount, tags, type Component } from '@tentjs/tent';\nimport * as styles from '../css/dropdown.module.css';\n\nconst { div, button, span, ul, li } = tags;\n\ntype State = {\n  open: boolean;\n  collection: Item[];\n};\n\ntype Item = {\n  title: string;\n  tag?: string | number;\n  attributes?: Record<string, unknown>;\n  selected?: boolean;\n  items?: Item[];\n};\n\n/**\n * In a real world example this probably wouldn't be here,\n * instead, it would be either passed to the component or fetched from an API.\n * Or, you could build it in the FE like I've done here :)\n */\nconst collection: Item[] = [\n  { title: 'Unread', tag: 4, selected: false },\n  { title: 'Flagged', tag: 23, selected: false },\n  // Section - with title\n  {\n    title: 'Tags',\n    items: [\n      { title: '#daretoshare24', selected: false },\n      { title: '#tent', selected: false },\n      { title: '#javascript', selected: false },\n    ],\n  },\n  // Section - without title\n  {\n    title: '',\n    items: [\n      {\n        title: 'Source',\n        selected: false,\n        attributes: {\n          role: 'link',\n          onclick: () => {\n            window.open(\n              'https://github.com/tentjs/cookbook/tree/main/src/components/dropdown.ts',\n              '_blank'\n            );\n          },\n        },\n      },\n    ],\n  },\n];\n\nconst Dropdown: Component<State> = {\n  state: { open: true, collection },\n  view: ({ state }) =>\n    div(\n      [\n        button('Filters', { onclick: () => (state.open = !state.open) }),\n        ul(\n          state.open\n            ? state.collection.map((item) =>\n                item.items ? section(item.title, item.items) : single(item)\n              )\n            : []\n        ),\n      ],\n      { className: styles.dropdown }\n    ),\n};\n\nfunction section(title: string, items: Item[]) {\n  return div([\n    li([span(title), span('')]),\n    ...items.map((item) => single(item)),\n  ]);\n}\n\nfunction single(item: Item) {\n  return li([span(item.title), span(item.tag ?? '')], {\n    ...item.attributes,\n    onclick: () => {\n      if (typeof item.attributes?.onclick === 'function') {\n        item.attributes.onclick();\n      } else {\n        item.selected = !item.selected;\n      }\n    },\n    className: item.selected ? styles.selected : '',\n  });\n}\n\nmount(document.querySelector('.recipe'), Dropdown);\n",".dropdown {\n  position: relative;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n\n  ul {\n    display: flex;\n    flex-direction: column;\n    gap: 1px;\n    width: 200px;\n    position: absolute;\n    padding: 6px;\n    margin-top: 6px;\n    background-color: var(--color-black);\n    border: 1px solid var(--color-grey-100);\n    border-radius: var(--radius);\n\n    div {\n      display: flex;\n      flex-direction: column;\n      gap: 1px;\n\n      li {\n        width: 100%;\n\n        &:first-of-type {\n          padding: 0;\n          display: flex;\n          align-items: center;\n          margin: 12px auto 6px auto;\n\n          span:nth-child(1) {\n            font-size: 12px;\n            font-weight: bold;\n            color: #888;\n\n            &:not(:empty) {\n              padding-left: 8px;\n            }\n          }\n\n          span:nth-child(2) {\n            height: 1px;\n            width: 100%;\n            margin: 0 8px;\n            background-color: var(--color-grey-200);\n          }\n\n          &:hover {\n            background-color: initial;\n          }\n        }\n      }\n    }\n\n    &:empty {\n      border: none;\n      padding: 0;\n      margin-top: 0;\n    }\n  }\n\n  li {\n    padding: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: var(--radius);\n    transition: color .2s ease-in-out,\n      background-color .2s ease-in-out;\n\n    &:hover {\n      background-color: #222;\n    }\n\n    span:not(:empty):nth-child(2) {\n      font-size: 10px;\n      width: 20px;\n      height: 20px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 20px;\n      color: var(--color-white);\n      background-color: var(--color-grey-200);\n    }\n\n    &[role=\"link\"] {\n      cursor: pointer;\n    }\n\n    &.selected {\n      background-color: var(--color-grey-200);\n\n      &:has(+ .selected) {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n      }\n\n      & + .selected {\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n      }\n    }\n  }\n\n  button {\n    cursor: default;\n    background-color: var(--color-white);\n    border-color: var(--color-white);\n  }\n}\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$1522cb89a5b7fae6$export$186d02efde07ef98","el","component","node","state","view","mounted","handler","obj","key","Proxy","prop","value","hasOwnProperty","String","Reflect","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker","oldNode","newNode","nc","Array","from","childNodes","oc","length","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$syncNodes","nodeType","Node","TEXT_NODE","forEach","x","index","append","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttributes","clone","$tent","keys","attributes","hasChildNodes","entry","entries","cloneNode","c","i","remove","oChild","nChild","tagName","replaceWith","proxy","attr","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute","isComponent","name","getNamedItem","nodeValue","getAttribute","setAttribute","hasAttribute","removeAttribute","$1522cb89a5b7fae6$export$8b7a896ae75accbf","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t","tag","children","attrs","$1522cb89a5b7fae6$export$ee84a198a55b65e5","context","elm","document","createElement","isArray","toString","startsWith","test","val","$1Ovn3","div","$1cdc12b86b4d1831$var$div","button","$1cdc12b86b4d1831$var$button","span","$1cdc12b86b4d1831$var$span","ul","$1cdc12b86b4d1831$var$ul","li","$1cdc12b86b4d1831$var$li","tags","$1cdc12b86b4d1831$var$single","item","title","onclick","selected","className","mount","querySelector","open","collection","items","role","window","map"],"version":3,"file":"dropdown.836ae373.js.map"}