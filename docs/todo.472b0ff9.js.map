{"mappings":"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","sources":["<anon>","node_modules/@tentjs/tent/dist/module.js","node_modules/@tentjs/tent/dist/src/main.ts","src/components/todo.ts","src/css/todo.module.css"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire27b0\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire27b0\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1Ovn3\", function(module, exports) {\n\n$parcel$export(module.exports, \"mount\", () => $1522cb89a5b7fae6$export$186d02efde07ef98);\n$parcel$export(module.exports, \"tags\", () => $1522cb89a5b7fae6$export$8b7a896ae75accbf);\nfunction $1522cb89a5b7fae6$export$186d02efde07ef98(element, component) {\n    if (element == null) return;\n    const { state: state = {}, view: view, mounted: mounted } = component;\n    let node;\n    const el = element;\n    el.$tent = {\n        attributes: {},\n        isComponent: true\n    };\n    const handler = {\n        get (obj, key) {\n            if (typeof obj[key] === \"object\" && obj[key] != null) return new Proxy(obj[key], handler);\n            else return obj[key];\n        },\n        set (obj, prop, value) {\n            if (!obj.hasOwnProperty(prop)) throw new Error(`The property \"${String(prop)}\" does not exist on the state object.`);\n            if (obj[prop] === value) return true;\n            const s = Reflect.set(obj, prop, value);\n            $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(node, view({\n                state: proxy,\n                el: el,\n                attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n            }));\n            return s;\n        }\n    };\n    const proxy = new Proxy({\n        ...state\n    }, handler);\n    node = view({\n        state: proxy,\n        el: el,\n        attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n    });\n    node.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    el.append(node);\n    mounted?.({\n        state: proxy,\n        el: el,\n        attr: $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el)\n    });\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute(el) {\n    return (name)=>{\n        const attr = el.attributes.getNamedItem(name);\n        if (!attr) return;\n        const value = attr.value;\n        if (value === \"\") // I should find a better way to handle this,\n        // what I want to avoid is returning `T | undefined | 'true'`\n        return \"true\";\n        return value;\n    };\n}\nfunction $1522cb89a5b7fae6$export$ee84a198a55b65e5(context) {\n    const [tag, children, attributes] = context;\n    const el = document.createElement(tag);\n    el.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    for(const key in attributes){\n        const value = attributes[key];\n        el.$tent.attributes[key] = value;\n        $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttribute(el, key, value);\n    }\n    if (Array.isArray(children)) children.forEach((c)=>{\n        el.append(Array.isArray(c) ? $1522cb89a5b7fae6$export$ee84a198a55b65e5(c) : c);\n    });\n    else el.append(typeof children === \"number\" ? children.toString() : children);\n    return el;\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttribute(el, key, value) {\n    if (typeof value === \"boolean\") {\n        if (value) el.setAttribute(key, \"\");\n        else el.removeAttribute(key);\n        return;\n    }\n    if (el[key] === undefined) el.setAttribute(key, value);\n    else el[key] = value;\n}\nfunction $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(oldNode, newNode) {\n    const nc = Array.from(newNode.childNodes);\n    const oc = Array.from(oldNode.childNodes);\n    if (oldNode.nodeType === Node.TEXT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) oldNode.nodeValue = newNode.nodeValue;\n        return;\n    }\n    // Remove attributes that are not present in the new node\n    for(const key in oldNode.$tent.attributes)if (newNode.$tent.attributes[key] == null) {\n        delete oldNode.$tent.attributes[key];\n        if (oldNode.hasAttribute(key)) oldNode.removeAttribute(key);\n    }\n    // Add attributes that are not present in the old node\n    const attrs = {\n        ...oldNode.$tent.attributes,\n        ...newNode.$tent.attributes\n    };\n    for(const key in attrs)$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttribute(oldNode, key, attrs[key]);\n    if (oc.length === 0 && nc.length === 0) return;\n    if (oc.length < nc.length) nc.forEach((x, index)=>{\n        if (oc[index] == null) oldNode.append(x);\n    });\n    if (oc.length > nc.length) oc.forEach((c, i)=>{\n        if (nc[i] == null) c.remove();\n    });\n    oc.forEach((oChild, index)=>{\n        const nChild = nc[index];\n        if (nChild == null) return;\n        if (oChild.tagName !== nChild.tagName) oChild.replaceWith(nChild);\n        $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker(oChild, nChild);\n    });\n}\nconst $1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t = [\n    \"div\",\n    \"p\",\n    \"ul\",\n    \"li\",\n    \"button\",\n    \"input\",\n    \"label\",\n    \"form\",\n    \"span\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"a\",\n    \"img\",\n    \"video\",\n    \"audio\",\n    \"canvas\",\n    \"table\",\n    \"tr\",\n    \"td\",\n    \"th\",\n    \"thead\",\n    \"tbody\",\n    \"tfoot\",\n    \"select\",\n    \"option\",\n    \"textarea\",\n    \"pre\",\n    \"code\",\n    \"blockquote\",\n    \"hr\",\n    \"br\",\n    \"iframe\",\n    \"nav\",\n    \"header\",\n    \"footer\",\n    \"main\",\n    \"section\",\n    \"article\",\n    \"aside\",\n    \"small\",\n    \"b\"\n];\nconst $1522cb89a5b7fae6$export$8b7a896ae75accbf = {};\n$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t.forEach((tag)=>$1522cb89a5b7fae6$export$8b7a896ae75accbf[tag] = (children, attrs)=>$1522cb89a5b7fae6$export$ee84a198a55b65e5([\n            tag,\n            children,\n            attrs\n        ]));\n\n});\n\n\nvar $1Ovn3 = parcelRequire(\"1Ovn3\");\nvar $364550fd2edecc81$export$3df11c9c20e7b288;\nvar $364550fd2edecc81$export$402f4892886ef27f;\n$364550fd2edecc81$export$3df11c9c20e7b288 = `wgN8TW_done`;\n$364550fd2edecc81$export$402f4892886ef27f = `wgN8TW_todo`;\n\n\nconst { div: $f01bac4548e3881f$var$div, ul: $f01bac4548e3881f$var$ul, li: $f01bac4548e3881f$var$li, input: $f01bac4548e3881f$var$input } = (0, $1Ovn3.tags);\nconst $f01bac4548e3881f$var$list = [\n    {\n        title: \"To-do #1\",\n        done: false\n    },\n    {\n        title: \"To-do #2\",\n        done: true\n    },\n    {\n        title: \"To-do #3\",\n        done: false\n    }\n];\nconst $f01bac4548e3881f$var$Todo = {\n    state: {\n        list: $f01bac4548e3881f$var$list,\n        title: \"\"\n    },\n    view: ({ state: state })=>$f01bac4548e3881f$var$div([\n            $f01bac4548e3881f$var$input([], {\n                type: \"text\",\n                placeholder: \"A new to-do...\",\n                oninput: ({ target: target })=>state.title = target.value,\n                onkeydown: ({ key: key, target: target })=>{\n                    if (key !== \"Enter\") return;\n                    state.list = [\n                        ...state.list,\n                        {\n                            title: target.value,\n                            done: false\n                        }\n                    ];\n                    target.value = \"\";\n                    state.title = \"\";\n                }\n            }),\n            $f01bac4548e3881f$var$ul(state.list.map((todo)=>$f01bac4548e3881f$var$li(todo.title, {\n                    onclick: ()=>todo.done = !todo.done,\n                    className: todo.done ? $364550fd2edecc81$export$3df11c9c20e7b288 : \"\"\n                })), {\n                className: $364550fd2edecc81$export$402f4892886ef27f\n            })\n        ])\n};\n(0, $1Ovn3.mount)(document.querySelector(\".recipe\"), $f01bac4548e3881f$var$Todo);\n\n\n//# sourceMappingURL=todo.472b0ff9.js.map\n","function $b013a5dd6d18443e$export$186d02efde07ef98(element, component) {\n    if (element == null) return;\n    const { state: state = {}, view: view, mounted: mounted } = component;\n    let node;\n    const el = element;\n    el.$tent = {\n        attributes: {},\n        isComponent: true\n    };\n    const handler = {\n        get (obj, key) {\n            if (typeof obj[key] === \"object\" && obj[key] != null) return new Proxy(obj[key], handler);\n            else return obj[key];\n        },\n        set (obj, prop, value) {\n            if (!obj.hasOwnProperty(prop)) throw new Error(`The property \"${String(prop)}\" does not exist on the state object.`);\n            if (obj[prop] === value) return true;\n            const s = Reflect.set(obj, prop, value);\n            $b013a5dd6d18443e$var$walker(node, view({\n                state: proxy,\n                el: el,\n                attr: $b013a5dd6d18443e$var$getAttribute(el)\n            }));\n            return s;\n        }\n    };\n    const proxy = new Proxy({\n        ...state\n    }, handler);\n    node = view({\n        state: proxy,\n        el: el,\n        attr: $b013a5dd6d18443e$var$getAttribute(el)\n    });\n    node.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    el.append(node);\n    mounted?.({\n        state: proxy,\n        el: el,\n        attr: $b013a5dd6d18443e$var$getAttribute(el)\n    });\n}\nfunction $b013a5dd6d18443e$var$getAttribute(el) {\n    return (name)=>{\n        const attr = el.attributes.getNamedItem(name);\n        if (!attr) return;\n        const value = attr.value;\n        if (value === \"\") // TODO: This might not be the desired behavior.\n        // I should find a better way to handle this,\n        // what I want to avoid is returning `T | undefined | 'true'`\n        return \"true\";\n        return value;\n    };\n}\nfunction $b013a5dd6d18443e$export$ee84a198a55b65e5(context) {\n    const [tag, children, attributes] = context;\n    const el = document.createElement(tag);\n    el.$tent = {\n        attributes: {},\n        isComponent: false\n    };\n    for(const key in attributes){\n        const value = attributes[key];\n        el.$tent.attributes[key] = value;\n        $b013a5dd6d18443e$var$addAttribute(el, key, value);\n    }\n    if (Array.isArray(children)) children.forEach((c)=>{\n        el.append(Array.isArray(c) ? $b013a5dd6d18443e$export$ee84a198a55b65e5(c) : c);\n    });\n    else el.append(typeof children === \"number\" ? children.toString() : children);\n    return el;\n}\nfunction $b013a5dd6d18443e$var$addAttribute(el, key, value) {\n    if (typeof value === \"boolean\") {\n        if (value) el.setAttribute(key, \"\");\n        else el.removeAttribute(key);\n        return;\n    }\n    if (el[key] === undefined) el.setAttribute(key, value);\n    else el[key] = value;\n}\nfunction $b013a5dd6d18443e$var$walker(oldNode, newNode) {\n    const nc = Array.from(newNode.childNodes);\n    const oc = Array.from(oldNode.childNodes);\n    if (oldNode.nodeType === Node.TEXT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) oldNode.nodeValue = newNode.nodeValue;\n        return;\n    }\n    // Remove attributes that are not present in the new node\n    for(const key in oldNode.$tent.attributes)if (newNode.$tent.attributes[key] == null) {\n        delete oldNode.$tent.attributes[key];\n        if (oldNode.hasAttribute(key)) oldNode.removeAttribute(key);\n    }\n    // Add attributes that are not present in the old node\n    const attrs = {\n        ...oldNode.$tent.attributes,\n        ...newNode.$tent.attributes\n    };\n    for(const key in attrs)$b013a5dd6d18443e$var$addAttribute(oldNode, key, attrs[key]);\n    if (oc.length === 0 && nc.length === 0) return;\n    if (oc.length < nc.length) nc.forEach((x, index)=>{\n        if (oc[index] == null) oldNode.append(x);\n    });\n    if (oc.length > nc.length) oc.forEach((c, i)=>{\n        if (nc[i] == null) c.remove();\n    });\n    oc.forEach((oChild, index)=>{\n        const nChild = nc[index];\n        if (nChild == null) return;\n        if (oChild.tagName !== nChild.tagName) oChild.replaceWith(nChild);\n        $b013a5dd6d18443e$var$walker(oChild, nChild);\n    });\n}\nconst $b013a5dd6d18443e$var$t = [\n    \"div\",\n    \"p\",\n    \"ul\",\n    \"li\",\n    \"button\",\n    \"input\",\n    \"label\",\n    \"form\",\n    \"span\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"a\",\n    \"img\",\n    \"video\",\n    \"audio\",\n    \"canvas\",\n    \"table\",\n    \"tr\",\n    \"td\",\n    \"th\",\n    \"thead\",\n    \"tbody\",\n    \"tfoot\",\n    \"select\",\n    \"option\",\n    \"textarea\",\n    \"pre\",\n    \"code\",\n    \"blockquote\",\n    \"hr\",\n    \"br\",\n    \"iframe\",\n    \"nav\",\n    \"header\",\n    \"footer\",\n    \"main\",\n    \"section\",\n    \"article\",\n    \"aside\",\n    \"small\",\n    \"b\"\n];\nconst $b013a5dd6d18443e$export$8b7a896ae75accbf = {};\n$b013a5dd6d18443e$var$t.forEach((tag)=>$b013a5dd6d18443e$export$8b7a896ae75accbf[tag] = (children, attrs)=>$b013a5dd6d18443e$export$ee84a198a55b65e5([\n            tag,\n            children,\n            attrs\n        ]));\n\n\nexport {$b013a5dd6d18443e$export$186d02efde07ef98 as mount, $b013a5dd6d18443e$export$ee84a198a55b65e5 as createTag, $b013a5dd6d18443e$export$8b7a896ae75accbf as tags};\n//# sourceMappingURL=module.js.map\n","import {\n  type Children,\n  type Context,\n  type Component,\n  type TentNode,\n  type Attrs,\n} from './types';\n\nfunction mount<S extends {} = {}, A extends Attrs = {}>(\n  element: HTMLElement | Element | TentNode<A> | null,\n  component: Component<S, A>,\n) {\n  if (element == null) {\n    return;\n  }\n\n  const { state = {} as S, view, mounted } = component;\n  let node: TentNode<A>;\n\n  const el = element as TentNode<A>;\n\n  el.$tent = {\n    attributes: {},\n    isComponent: true,\n  };\n\n  const handler = {\n    get(obj: S, key: string) {\n      if (typeof obj[key] === 'object' && obj[key] != null) {\n        return new Proxy(obj[key], handler);\n      } else {\n        return obj[key];\n      }\n    },\n    set(obj: S, prop: string, value: unknown) {\n      if (!obj.hasOwnProperty(prop)) {\n        throw new Error(\n          `The property \"${String(prop)}\" does not exist on the state object.`,\n        );\n      }\n      if (obj[prop] === value) return true;\n\n      const s = Reflect.set(obj, prop, value);\n\n      walker(node, view({ state: proxy, el, attr: getAttribute<A>(el) }));\n\n      return s;\n    },\n  };\n\n  const proxy = new Proxy<S>({ ...state }, handler);\n\n  node = view({ state: proxy, el, attr: getAttribute<A>(el) });\n  node.$tent = {\n    attributes: {},\n    isComponent: false,\n  };\n\n  el.append(node);\n\n  mounted?.({ state: proxy, el, attr: getAttribute<A>(el) });\n}\n\nfunction getAttribute<A>(el: HTMLElement | Element) {\n  return <K extends keyof A>(name: K): A[K] | undefined => {\n    const attr = el.attributes.getNamedItem(name as string);\n\n    if (!attr) {\n      return;\n    }\n\n    const value = attr.value;\n\n    if (value === '') {\n      // TODO: This might not be the desired behavior.\n      // I should find a better way to handle this,\n      // what I want to avoid is returning `T | undefined | 'true'`\n      return 'true' as A[K];\n    }\n\n    return value as A[K];\n  };\n}\n\nfunction createTag(context: Context) {\n  const [tag, children, attributes] = context;\n  const el = document.createElement(tag) as TentNode;\n\n  el.$tent = {\n    attributes: {},\n    isComponent: false,\n  };\n\n  for (const key in attributes) {\n    const value = attributes[key];\n\n    el.$tent.attributes[key] = value;\n\n    addAttribute(el, key, value);\n  }\n\n  if (Array.isArray(children)) {\n    children.forEach((c) => {\n      el.append(Array.isArray(c) ? createTag(c) : c);\n    });\n  } else {\n    el.append(typeof children === 'number' ? children.toString() : children);\n  }\n\n  return el;\n}\n\nfunction addAttribute<A extends Attrs>(\n  el: TentNode<A>,\n  key: string,\n  value: string,\n) {\n  if (typeof value === 'boolean') {\n    if (value) {\n      el.setAttribute(key, '');\n    } else {\n      el.removeAttribute(key);\n    }\n\n    return;\n  }\n\n  if (el[key] === undefined) {\n    el.setAttribute(key, value);\n  } else {\n    el[key] = value;\n  }\n}\n\nfunction walker<A extends Attrs>(oldNode: TentNode<A>, newNode: TentNode<A>) {\n  const nc = Array.from(newNode.childNodes) as TentNode<A>[];\n  const oc = Array.from(oldNode.childNodes) as TentNode<A>[];\n\n  if (oldNode.nodeType === Node.TEXT_NODE) {\n    if (oldNode.nodeValue !== newNode.nodeValue) {\n      oldNode.nodeValue = newNode.nodeValue;\n    }\n\n    return;\n  }\n\n  // Remove attributes that are not present in the new node\n  for (const key in oldNode.$tent.attributes) {\n    if (newNode.$tent.attributes[key] == null) {\n      delete oldNode.$tent.attributes[key];\n      if (oldNode.hasAttribute(key)) {\n        oldNode.removeAttribute(key);\n      }\n    }\n  }\n\n  // Add attributes that are not present in the old node\n  const attrs = {\n    ...oldNode.$tent.attributes,\n    ...newNode.$tent.attributes,\n  };\n\n  for (const key in attrs) {\n    addAttribute(oldNode, key, attrs[key]);\n  }\n\n  if (oc.length === 0 && nc.length === 0) {\n    return;\n  }\n\n  if (oc.length < nc.length) {\n    nc.forEach((x, index) => {\n      if (oc[index] == null) {\n        oldNode.append(x);\n      }\n    });\n  }\n\n  if (oc.length > nc.length) {\n    oc.forEach((c, i) => {\n      if (nc[i] == null) {\n        c.remove();\n      }\n    });\n  }\n\n  oc.forEach((oChild, index) => {\n    const nChild = nc[index];\n\n    if (nChild == null) {\n      return;\n    }\n\n    if (oChild.tagName !== nChild.tagName) {\n      oChild.replaceWith(nChild);\n    }\n\n    walker(oChild, nChild);\n  });\n}\n\nconst t = [\n  'div',\n  'p',\n  'ul',\n  'li',\n  'button',\n  'input',\n  'label',\n  'form',\n  'span',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'a',\n  'img',\n  'video',\n  'audio',\n  'canvas',\n  'table',\n  'tr',\n  'td',\n  'th',\n  'thead',\n  'tbody',\n  'tfoot',\n  'select',\n  'option',\n  'textarea',\n  'pre',\n  'code',\n  'blockquote',\n  'hr',\n  'br',\n  'iframe',\n  'nav',\n  'header',\n  'footer',\n  'main',\n  'section',\n  'article',\n  'aside',\n  'small',\n  'b',\n];\nconst tags: Record<string, (children: Children, attrs?: object) => TentNode> =\n  {};\nt.forEach(\n  (tag) => (tags[tag] = (children, attrs) => createTag([tag, children, attrs])),\n);\n\nexport {\n  mount,\n  tags,\n  createTag,\n  type Component,\n  type Children,\n  type Context,\n  type TentNode,\n};\n","import { type Component, mount, tags } from '@tentjs/tent';\nimport * as styles from '../css/todo.module.css';\n\nconst { div, ul, li, input } = tags;\n\ntype Item = {\n  title: string;\n  done: boolean;\n};\ntype State = {\n  title: string;\n  list: Item[];\n};\n\nconst list: Item[] = [\n  { title: 'To-do #1', done: false },\n  { title: 'To-do #2', done: true },\n  { title: 'To-do #3', done: false },\n];\n\nconst Todo: Component<State> = {\n  state: { list, title: '' },\n  view: ({ state }) =>\n    div([\n      input([], {\n        type: 'text',\n        placeholder: 'A new to-do...',\n        oninput: ({ target }) => (state.title = target.value),\n        onkeydown: ({ key, target }) => {\n          if (key !== 'Enter') return;\n          state.list = [...state.list, { title: target.value, done: false }];\n          target.value = '';\n          state.title = '';\n        },\n      }),\n      ul(\n        state.list.map((todo) =>\n          li(todo.title, {\n            onclick: () => (todo.done = !todo.done),\n            className: todo.done ? styles.done : '',\n          })\n        ),\n        { className: styles.todo }\n      ),\n    ]),\n};\n\nmount(document.querySelector('.recipe'), Todo);\n",".todo {\n  li {\n    cursor: pointer;\n  }\n}\n\n.done {\n  text-decoration: line-through;\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$1522cb89a5b7fae6$export$186d02efde07ef98","element","component","node","state","view","mounted","el","$tent","attributes","isComponent","handler","obj","key","Proxy","prop","value","hasOwnProperty","String","Reflect","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$walker","oldNode","newNode","nc","Array","from","childNodes","oc","nodeType","Node","TEXT_NODE","nodeValue","hasAttribute","removeAttribute","attrs","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$addAttribute","length","forEach","x","index","append","c","i","remove","oChild","nChild","tagName","replaceWith","proxy","attr","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$getAttribute","name","getNamedItem","setAttribute","undefined","$1522cb89a5b7fae6$export$8b7a896ae75accbf","$1522cb89a5b7fae6$var$$b013a5dd6d18443e$var$t","tag","children","$1522cb89a5b7fae6$export$ee84a198a55b65e5","context","document","createElement","isArray","toString","$1Ovn3","div","$f01bac4548e3881f$var$div","ul","$f01bac4548e3881f$var$ul","li","$f01bac4548e3881f$var$li","input","$f01bac4548e3881f$var$input","tags","mount","querySelector","list","title","done","type","placeholder","oninput","target","onkeydown","map","todo","onclick","className"],"version":3,"file":"todo.472b0ff9.js.map"}